#
# an all rule always is the first rule in a file
# basically it should have as input the final file you want generated by 
# this porgram
#
rule all:
	input: "mean.txt",


#
# example shell rule
#
rule words_per_row:
	input:
		"words.txt"
	output:
		"count.txt",
	shell: "awk '{{print NF}}' {input} > {output}"

#
# example python run
#
rule mean_words_per_row:
	input:
		count = "count.txt",
	output:
		"mean.txt"
	run:
		lines = open(input["count"]).readlines()
		counts = [ int(line.strip()) for line in lines]
		result = sum(counts)/len(counts)
		out = "Mean words per row: {}\n".format(result)
		open(output[0], "w+").write(out)





